<!DOCTYPE html>
<html lang="en">
		<head>
				<title>Exercise 1 - Degrees, Carlos Vigil</title>
				<meta charset="utf-8">
				<style media="screen">
					body {
						background-color: #000;
					}
				</style>
		</head>
		<body>

			<img src="" width="200" height="150" alt="flag of a selected country: USA, Jamaica, Mexico, or Canada." />

			<script>
				// Carlos Vigil
				// Prof. W. Rosado
				// CST152 JavaScript
				// October 26, 2016

				// Chapter 8

				function menu()
				{
					function menuOptions(num)
					{
						switch (num)
						{
							case 0: // Exit program
								alert("ok bye");
								break;

							case 1: // Display the history of the browser
								var histNum = parseInt(prompt("Enter a selection:\n"
										+ "\n1	 Display history forward."
										+ "\n2	 Display history backwards."
										+ "\n3	 Display history using goto."));

								switch (histNum)
								{
									case 1: // Display history forward
										history.forward();
										break;
									case 2: // Display history backwards
										history.back();
										break;
									case 3: // Display history using goto
										var goNum = prompt("How far back or forwards?"
												+ "\nUse any positive integer (2) to go forwards and a negative interger (-2) to go backwards.");
										history.go(goNum);
										break;
									default:
										alert("Error. Enter a number from 1-3.");
										menuOptions(1);
								}
								break;

							case 2: // Display geolocation information
								function success(position)
								{
									var pos = position.coords,
									lat = pos.latitude,
									lon = pos.longitude,
									alt = pos.altitude,
									spd = pos.speed,
									geoString = "Let's see, you are at latitude: " +lat+ ", longitude: " +lon+ ".\ ",
									altString = "Your altitude is " +alt+ "m ",
									spdString = "your speed is " +spd+ "meters per second.";

									if (spd === null && alt === null)
									{ // when only geocoordinates are available
										alert(geoString + "Altitude and speed are null.");
									}

									else if (spd === spd && alt === null)
									{ // when altitude is unavailable
										alert(geoString + "Altitude is null, and " + spdString);
									}

									else if (spd === null && alt === alt)
									{ // when speed is unavailable
										alert(geoString + altString + "and your speed is null.");
									}

									else if (spd === spd && alt === alt)
									{ // if all values are available
										alert(geoString + altString + spdString);
									}
								}

								function error(errorObj)
								{
									alert(errorObj.message);
								}

								navigator.geolocation.getCurrentPosition(success, error);
								break;

							case 3: // Display screen color depth
								alert("Your screen supports " +screen.colorDepth+ "bit color.");
								break;

							case 4: // Display one of 4 country flags:
								var images = [
									"usa.gif",
									"canada.gif",
									"jamaica.gif",
									"mexico.gif"
								];
								var imgNum = parseInt(prompt("Enter a number from 0 to 3"));

								if (imgNum !== imgNum || imgNum > 3 || imgNum < 0)
								{
									alert("Try again.");
									menuOptions(4);
								}
								else
								{
									document.images[0].src = images[imgNum];
								}
								break;

							case 5: // Display a browser’s user-agent’s string values
								var txt = "";
								txt += "Browser CodeName: " + navigator.appCodeName + "";
								txt += "\nBrowser Name: " + navigator.appName + "";
								txt += "\nBrowser Version: " + navigator.appVersion + "";
								txt += "\nPlatform: " + navigator.platform + "";
								txt += "\nUser-agent header: " + navigator.userAgent + "";
								alert(txt);
								break;

							default: // Persistence and recursion
								alert("Invalid entry");
								menu();
						}
					}
					// Define a string to use as the displayed menu
					var menuString = "Welcome to Menu App!"
							+ "\nMake a selection by entering its number:\n"
							+ "\n0	 Terminate Program"
							+ "\n1	 Display Browser History"
							+ "\n2	 Display Browser's Geolocation"
							+ "\n3	 Display Screen's Color Depth"
							+ "\n4	 Display Country flag"
							+ "\n5	 Display Browser User-Agent Values";

					// Ask for a selection and convert the string to an interger
					var selectNum = parseInt(prompt(menuString));
					menuOptions(selectNum);
				}

				// Call main function
				menu();

			</script>
		</body>
</html>
